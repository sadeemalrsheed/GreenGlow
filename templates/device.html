<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Green Glow Device</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-green-50 flex justify-center items-center h-screen">
  <div class="bg-white shadow-lg rounded-2xl p-10 text-center space-y-6 w-full max-w-md">
    <h1 class="text-3xl font-bold text-green-700">Green Glow ðŸŒ±</h1>
    <p class="text-lg text-gray-700">
      Soil Moisture: <span id="moisture" class="font-semibold text-green-800">Reading...</span>
    </p>
    <form method="POST" action="/water">
      <button class="bg-green-500 text-white px-6 py-3 rounded-full text-lg hover:bg-green-600 transition">
        ðŸ’§ Water Plant
      </button>
    </form>
  </div>

  <script>
    function updateMoisture() {
      fetch('/device')  // this route should return the moisture value only
        .then(response => response.text())
        .then(data => {
          document.getElementById('moisture').innerText = data;
        })
        .catch(() => {
          document.getElementById('moisture').innerText = 'Error reading sensor';
        });
    }

    // Call every 2 seconds
    setInterval(updateMoisture, 2000);

    // Call once immediately on page load
    updateMoisture();
  </script>
</body>
</html>


